{"format":"lakeshow","type":"Show","version":"1.0","shows":[{"body":[{"type":"text","html":"<div style=\"text-align:center;\"><span style=\"font-size:92px; font-weight:bold; color:rgb(38, 38, 38);\">基于dio封装基础Request请求</span></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":96.42857142857156,"y":304.2380952380953,"zIndex":0,"width":1245.9761904761904,"height":168,"rotate":0}],"fill":{"color":"#ffffff"},"id":"b514abbd-20d9-47dd-a66d-78b139f7eadd","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614764046925-1f0551f7-a3b2-4160-a2c7-6ff806246a3e.jpg"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><span style=\"font-size:64px; font-weight:700;\">· dio简介</span></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":328.06133625410735,"y":200.74682136444713,"zIndex":0,"width":888,"height":75.91624649139192,"rotate":0},{"type":"text","html":"<div style=\"text-align:left;\"><span style=\"font-size:64px; font-weight:700;\">· 封装思路</span></div>","id":"5f026a12-a5ff-4a10-950b-9db5f768302d","x":328.06133625410735,"y":298.2254632045348,"zIndex":1,"width":888,"height":69.70646221248614,"rotate":0},{"type":"text","html":"<div style=\"text-align:left;\"><span style=\"font-size:64px; font-weight:700;\">· Flutter package开发</span></div>","id":"b2665a23-99cd-452e-9f03-df7f3ec17699","x":328.06133625410735,"y":393.70410504462234,"zIndex":2,"width":888,"height":75.74698795180711,"rotate":0}],"fill":{"color":"#ffffff"},"id":"45b8fb54-ec4e-4338-9770-a794ce7749e2","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614741591066-16b55f60-f7ac-4d9f-833c-0b91457ab1a0.jpg"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><span style=\"font-weight:bold; color:rgb(38, 38, 38); font-size:64px;\">dio简介</span></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":97.0119047619047,"y":30,"zIndex":0,"width":1245.9761904761904,"height":90,"rotate":0},{"type":"text","html":"<div style=\"font-size:32px; text-align:left;\">dio是一个强大的Dart Http请求库</div><div style=\"font-size:32px; text-align:left;\">· Restful API</div><div style=\"font-size:32px; text-align:left;\">· FormData</div><div style=\"font-size:32px; text-align:left;\">· 拦截器</div><div style=\"font-size:32px; text-align:left;\">· 请求取消</div><div style=\"font-size:32px; text-align:left;\">· Cookie管理</div><div style=\"font-size:32px; text-align:left;\">· 文件上传/下载</div><div style=\"font-size:32px; text-align:left;\">· 超时</div><div style=\"font-size:32px; text-align:left;\">· 自定义适配器</div>","stroke":{"width":2},"id":"20803871-5b6b-4a7d-a89f-667013269327","x":422.671875,"y":148.71998675327507,"zIndex":1,"width":594.65625,"height":503.0609551963415,"rotate":0}],"fill":{"color":"#ffffff"},"id":"bdf5fc05-2965-4098-a8a1-201d64324d1e","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614764139832-0af2fcc2-5515-479e-8d2b-aec7d6c48a4a.jpg"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><span style=\"font-weight:bold; color:rgb(38, 38, 38); font-size:64px;\">dio使用</span></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":97.0119047619047,"y":30,"zIndex":0,"width":1245.9761904761904,"height":90,"rotate":0},{"type":"image","image":{"src":"https://cdn.nlark.com/yuque/0/2021/png/154143/1614830055789-d087a6dc-df2c-4f7e-8fda-90a1bf581c0a.png","naturalWidth":2114,"naturalHeight":476,"uploadInfo":{"hash":"6ab6fb7ef0d250b2d012646a0d2f61bad8d3f134069ef8fc298403450f73d131","fileName":"image.png","fileType":"image/png","fileSize":177763,"localTempSrc":"blob:https://www.yuque.com/28d9fa45-d4f6-4755-88ec-d277a830e5de","state":2}},"width":1440,"height":324.2384105960265,"x":0,"y":242.88079470198676,"constraints":{"proportion":true},"id":"12ba7d29-ea00-4654-89ac-0b75c4504262","zIndex":1}],"fill":{"color":"#ffffff"},"id":"8fbc92ed-709e-4044-a015-b2f959037ad0","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614830072273-ed0e41a4-e949-4850-bc2d-29a722ceab3b.jpg"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><span style=\"font-size:64px; font-weight:700;\">一个极简的示例</span></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":97.0119047619047,"y":30,"zIndex":0,"width":1245.9761904761904,"height":90,"rotate":0},{"type":"image","image":{"src":"https://cdn.nlark.com/yuque/0/2021/png/154143/1614742778804-6eabbd6b-ba8b-4dcf-8b02-d2b7912ab1ab.png","naturalWidth":1600,"naturalHeight":584,"uploadInfo":{"hash":"50fc84c18cdccb0a655d3d03c5ce0308f3cc0bd32d7888fb04895e46aaeae6d4","fileName":"image.png","fileType":"image/png","fileSize":169187,"localTempSrc":"blob:https://www.yuque.com/d495e247-5523-46e5-8acf-5c2a5feb9d5e","state":-2}},"width":1317.2526078339333,"height":480.79720185938595,"x":61.37369608303334,"y":164.60139907030702,"constraints":{"proportion":true},"id":"65f48167-d04f-4d8e-b63a-a81c3f889ddd","zIndex":1,"rotate":0}],"fill":{"color":"#ffffff"},"id":"65349d62-1db6-4e4a-9a39-c9b3ae22c208","thumb":"blob:https://www.yuque.com/5b439652-3658-4696-bb4e-4e7bb6ce1d8e"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><span style=\"font-size:64px; font-weight:700;\">为什么要进行封装</span></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":97.0119047619047,"y":30,"zIndex":0,"width":1245.9761904761904,"height":90,"rotate":0},{"type":"text","html":"<div style=\"font-size:32px; text-align:left;\">· 添加基础配置信息，比如超时时间的设置</div><div style=\"font-size:32px; text-align:left;\">· 添加关于网络的检查，网络连接有问题，就不再请求api接口了</div><div style=\"font-size:32px; text-align:left;\">· 添加一些业务流程的处理，比如token的获取，统一的错误处理</div>","stroke":{"width":2},"id":"52fad10b-bc45-4525-ac4c-202d531b3222","x":261.3203125,"y":276.1985500211008,"zIndex":1}],"fill":{"color":"#ffffff"},"id":"c747b1c1-be30-4c6f-923a-47cda73487eb","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614825883425-3d153dfe-4098-4556-9421-e0658f41c010.jpg"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><span style=\"font-size:64px; font-weight:700;\">封装思路-拦截器</span></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":97.0119047619047,"y":30,"zIndex":0,"width":1245.9761904761904,"height":90,"rotate":0},{"type":"text","html":"<div style=\"font-size:32px; text-align:left;\">每个 Dio 实例都可以添加任意多个拦截器，他们组成一个队列，</div><div style=\"font-size:32px; text-align:left;\"><span style=\"font-weight:bold;\">拦截器队列的执行顺序是FIFO。</span></div><div style=\"font-size:32px; text-align:left;\">通过拦截器你可以在请求之前或响应之后</div><div style=\"font-size:32px; text-align:left;\">(但还没有被 then 或 catchError处理)</div><div style=\"font-size:32px; text-align:left;\">做一些统一的预处理操作。</div>","stroke":{"width":2},"id":"1563d45a-8de5-48a2-b1b6-60b1741e91c6","x":264.5703125,"y":263.5,"zIndex":1}],"fill":{"color":"#ffffff"},"id":"2e657e36-8969-45f9-a7a0-6fec7d163bc3","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614752216788-6d48caf9-1dc7-437b-9387-26dd2aa9fb81.jpg"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><span style=\"font-size:64px; font-weight:700;\">封装思路-拦截器</span></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":97.0119047619047,"y":30,"zIndex":0,"width":1245.9761904761904,"height":90,"rotate":0},{"type":"image","image":{"src":"https://cdn.nlark.com/yuque/0/2021/png/154143/1614744119692-a26af7fe-334b-427a-922d-554ed611fa88.png","naturalWidth":2054,"naturalHeight":1590,"uploadInfo":{"hash":"471053322237c2c535f256a25bd77728435c1feaf6b5782939c5204b567d6280","fileName":"image.png","fileType":"image/png","fileSize":728769,"localTempSrc":"blob:https://www.yuque.com/bcacfd9a-08a4-44e8-8757-91a58039d019","state":-2}},"width":913.4182717146457,"height":707.0764615512594,"x":263.2908641426769,"y":112.4235384487406,"constraints":{"proportion":true},"id":"79e9b857-33c7-4417-b195-1cf930c70066","zIndex":1,"rotate":0}],"fill":{"color":"#ffffff"},"id":"73c32cc2-1885-420a-b9e5-85fd0b0c3146","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614764528541-c38c9f2e-817d-4b37-bef6-3f00f4814262.jpg"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><span style=\"font-size:64px; font-weight:700;\">封装思路-拦截器</span></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":97.0119047619047,"y":30,"zIndex":0,"width":1245.9761904761904,"height":90,"rotate":0},{"type":"image","image":{"src":"https://cdn.nlark.com/yuque/0/2021/png/154143/1614752351715-24350c77-fc5f-41d6-bf99-a85d20d1ea78.png","naturalWidth":2072,"naturalHeight":1286,"uploadInfo":{"hash":"c0e2dd9136962c03e978325715f607450c584b6920290bccecfe82551d972a88","fileName":"image.png","fileType":"image/png","fileSize":670623,"localTempSrc":"blob:https://www.yuque.com/905e9891-edca-49a8-9c61-3c2b0a0fc558","state":-2}},"width":1118.3505623943695,"height":694.1114011772,"x":160.82471880281526,"y":121,"constraints":{"proportion":true},"id":"d3c8595b-0df4-491c-a442-abec10631fb6","zIndex":1,"rotate":0}],"fill":{"color":"#ffffff"},"id":"cb2f38aa-4bc1-4a01-a871-2fda47c6dd31","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614752442902-11033457-7237-411b-8e6f-05ff5ea94d91.jpg"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><div><span style=\"font-size:64px; font-weight:700;\">Package 介绍</span></div></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":97.0119047619047,"y":30,"zIndex":0,"width":1245.9761904761904,"height":90,"rotate":0},{"type":"text","html":"<div style=\"font-size:32px; text-align:left;\">通过使用 packages （的模式）可以创建易于共享的模块化代码。</div><div style=\"font-size:32px; text-align:left;\">一个最基本的 package 由以下内容构成：</div><div style=\"font-size:32px; text-align:left;\">· pubspec.yaml 文件</div><div style=\"font-size:32px; text-align:left;\">&nbsp; · 用于定义 package 名称、版本号、作者等其他信息的元数据文件。</div><div style=\"font-size:32px; text-align:left;\">· lib 目录</div><div style=\"font-size:32px; text-align:left;\">&nbsp; · 包含共享代码的 lib 目录，其中至少包含一个 &lt;package-name&gt;.dart 文件。</div>","stroke":{"width":2},"id":"a6f25719-557c-4bae-9934-49e5f4877921","x":151.1015625,"y":256.23001095290255,"zIndex":1}],"fill":{"color":"#ffffff"},"id":"f127dffb-afe6-4ec1-b9f6-a2072452ee00","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614752721554-0adfbb0e-058c-4c38-9a8c-e850ae401125.jpg"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><div><span style=\"font-size:64px; font-weight:700;\">Package 类别</span></div></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":97.0119047619047,"y":30,"zIndex":0,"width":1245.9761904761904,"height":90,"rotate":0},{"type":"text","html":"<div style=\"font-size:32px; text-align:left;\">Package 包含以下两种类别：</div><div style=\"font-size:32px; text-align:left;\">· 纯 Dart 库 (Dart packages)</div><div style=\"font-size:32px; text-align:left;\">&nbsp; · 用 Dart 编写的传统 package，比如 path。</div><div style=\"font-size:32px; text-align:left;\">&nbsp; · 其中一些可能包含 Flutter 的特定功能，因此依赖于 Flutter 框架，</div><div style=\"font-size:32px; text-align:left;\">&nbsp; &nbsp; 其使用范围仅限于 Flutter，比如 fluro。</div><div style=\"font-size:32px; text-align:left;\">&nbsp; · enum_to_string(枚举，字符串互相转换)，我们自己写的一些widget</div><div style=\"font-size:32px; text-align:left;\">· 原生插件 (Plugin packages)</div><div style=\"font-size:32px; text-align:left;\">&nbsp; · 使用 Dart 编写的，按需使用 Java 或 Kotlin、ObjC 或 Swift 分别在</div><div style=\"font-size:32px; text-align:left;\">&nbsp; &nbsp; &nbsp;Android 和/或 iOS 平台实现的 package。</div><div style=\"font-size:32px; text-align:left;\">&nbsp; · jverify（极光认证服务）</div>","stroke":{"width":2},"id":"a6f25719-557c-4bae-9934-49e5f4877921","x":209.3593749999999,"y":170.4906900328587,"zIndex":1}],"fill":{"color":"#ffffff"},"id":"696803c1-4ef7-41ae-aa9a-547f10ac5b42","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614760330595-bc31f447-7a3f-46eb-a02c-25e789088b2f.jpg"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><div><span style=\"font-size:64px; font-weight:700;\">开发纯 Dart 库的 packages</span></div></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":97.0119047619047,"y":30,"zIndex":0,"width":1245.9761904761904,"height":90,"rotate":0},{"type":"text","html":"<div style=\"font-size:32px; text-align:left;\">第一步：创建 package</div><div style=\"font-size:32px; text-align:left;\">flutter create --template=package hello</div>","stroke":{"width":2},"id":"99d54468-6064-492d-9caf-d073c77206e8","x":171.50614389375676,"y":285.5,"zIndex":1},{"type":"image","image":{"src":"https://cdn.nlark.com/yuque/0/2021/png/154143/1614760050771-00f23882-afce-4d1f-9a08-083bb1db2ff4.png","naturalWidth":498,"naturalHeight":962,"uploadInfo":{"hash":"1c424a12e41696038d135d1c6c88d7b020cb8402e4176965b3db71b71b36afa1","fileName":"image.png","fileType":"image/png","fileSize":111478,"localTempSrc":"blob:https://www.yuque.com/5248abdd-a613-4e20-ad93-a4879495c430","state":-2}},"width":419.3139293139293,"height":810,"x":923.6741659241655,"y":-0.5,"constraints":{"proportion":true},"id":"15fd807d-ec51-40a9-a98a-91e5b078120d","zIndex":2}],"fill":{"color":"#ffffff"},"id":"b6deafbc-1b3d-48a5-bd7e-d7ad3a8bc462","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614760133417-acd792bd-e9fd-43b2-b160-96945948cc3a.jpg"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><div><span style=\"font-size:64px; font-weight:700;\">开发纯 Dart 库的 packages</span></div></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":97.0119047619047,"y":30,"zIndex":0,"width":1245.9761904761904,"height":90,"rotate":0},{"type":"text","html":"<div style=\"font-size:32px; text-align:left;\"><span style=\"font-weight:bold;\">· LICENSE 文件: </span>大概率会是空的一个许可证文件。</div><div style=\"font-size:32px; text-align:left;\"><span style=\"font-weight:bold;\">· test/hello_test.dart 文件:</span> Package 的 单元测试 文件。</div><div style=\"font-size:32px; text-align:left;\"><span style=\"font-weight:bold;\">· hello.iml 文件: </span>由 IntelliJ 生成的配置文件。</div><div style=\"font-size:32px; text-align:left;\"><span style=\"font-weight:bold;\">· .gitignore 文件: </span>告诉 Git 系统应该隐藏哪些文件或文件夹的一个隐藏文件。</div><div style=\"font-size:32px; text-align:left;\"><span style=\"font-weight:bold;\">· .metadata 文件:</span> IDE 用来记录某个 Flutter 项目属性的的隐藏文件。</div><div style=\"font-size:32px; text-align:left;\"><span style=\"font-weight:bold;\">· pubspec.yaml 文件: </span>pub 工具需要使用的，包含 package 依赖的 yaml 格式的文件。</div><div style=\"font-size:32px; text-align:left;\"><span style=\"font-weight:bold;\">· README.md 文件: </span>起步文档，用于描述 package。</div><div style=\"font-size:32px; text-align:left;\"><span style=\"font-weight:bold;\">· lib/hello.dart 文件:</span> package 的 Dart 实现代码。</div><div style=\"font-size:32px; text-align:left;\"><span style=\"font-weight:bold;\">· .idea/modules.xml、.idea/modules.xml、.idea/workspace.xml 文件:</span></div><div style=\"font-size:32px; text-align:left;\">&nbsp; &nbsp; IntelliJ 的各自配置文件（包含在 .idea 隐藏文件夹下）。</div><div style=\"font-size:32px; text-align:left;\"><span style=\"font-weight:bold;\">· CHANGELOG.md 文件:</span> 又一个大概率为空的文档，用于记录 package 的版本变更。</div>","stroke":{"width":2},"id":"6b020fb3-48b2-4f49-85e3-2473db39c059","x":63.68363273183536,"y":121.5,"zIndex":1,"width":1312.6327345363288,"height":668.3176341730559,"rotate":0}],"fill":{"color":"#ffffff"},"id":"31793f85-29ab-4159-a8c4-7c944accb034","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614759841501-2ae85f8d-ed9b-43b5-9261-46e5aad9fd7b.jpg"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><div><span style=\"font-size:64px; font-weight:700;\">开发纯 Dart 库的 packages</span></div></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":97.0119047619047,"y":30,"zIndex":0,"width":1245.9761904761904,"height":90,"rotate":0},{"type":"text","html":"<div style=\"font-size:32px; text-align:left;\">第二步：实现 package</div><div style=\"font-size:32px; text-align:left;\"><br></div><div style=\"font-size:32px; text-align:left;\">对于纯 Dart 库的 package，</div><div style=\"font-size:32px; text-align:left;\">只要在 lib/&lt;package name&gt;.dart 文件中添加功能实现，</div><div style=\"font-size:32px; text-align:left;\">或在 lib 目录中的多个文件中添加功能实现。</div><div style=\"font-size:32px; text-align:left;\"><br></div><div style=\"font-size:32px; text-align:left;\">如果要对 package 进行测试，在 test 目录下添加 单元测试。</div>","stroke":{"width":2},"id":"99d54468-6064-492d-9caf-d073c77206e8","x":67.63757872398673,"y":208.5,"zIndex":1},{"type":"image","image":{"src":"https://cdn.nlark.com/yuque/0/2021/png/154143/1614760050771-00f23882-afce-4d1f-9a08-083bb1db2ff4.png","naturalWidth":498,"naturalHeight":962,"uploadInfo":{"hash":"1c424a12e41696038d135d1c6c88d7b020cb8402e4176965b3db71b71b36afa1","fileName":"image.png","fileType":"image/png","fileSize":111478,"localTempSrc":"blob:https://www.yuque.com/5248abdd-a613-4e20-ad93-a4879495c430","state":-2}},"width":419.3139293139293,"height":810,"x":923.6741659241655,"y":-0.5,"constraints":{"proportion":true},"id":"15fd807d-ec51-40a9-a98a-91e5b078120d","zIndex":2}],"fill":{"color":"#ffffff"},"id":"82421774-cbc5-4167-84ef-7cb3e2777b8c","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614760493830-341d9cea-1bd3-4c21-a566-814e2ba62a02.jpg"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><div><span style=\"font-size:64px; font-weight:700;\">参考文档</span></div></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":97.0119047619047,"y":30,"zIndex":0,"width":1245.9761904761904,"height":90,"rotate":0},{"type":"text","html":"<div style=\"font-size:32px; text-align:left;\"><a href=\"https://github.com/flutterchina/dio/blob/master/README-ZH.md\">dio/README-ZH.md at master · flutterchina/dio (github.com)</a><br></div><div style=\"font-size:32px; text-align:left;\"><br></div><div style=\"font-size:32px; text-align:left;\"><a href=\"https://flutter.cn/docs/development/packages-and-plugins/developing-packages\">Flutter Packages 的开发和提交 - Flutter 中文文档 - Flutter 中文资源</a></div>","stroke":{"width":2},"id":"99d54468-6064-492d-9caf-d073c77206e8","x":214.125,"y":251.08488499452355,"zIndex":1}],"fill":{"color":"#ffffff"},"id":"c50e5b9d-142d-4add-9244-7b7effb430de","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614829760940-79f01860-557b-4710-92b6-b00fe5939e52.jpg"},{"body":[{"type":"text","html":"<div style=\"text-align:left;\"><div><span style=\"font-size:64px; font-weight:700;\">抛砖引玉</span></div></div>","id":"75de4ea9-f198-4231-9ec7-b91a31624c1c","x":97.0119047619047,"y":30,"zIndex":0,"width":1245.9761904761904,"height":90,"rotate":0},{"type":"text","html":"<div style=\"font-size:32px; text-align:left;\"><a href=\"https://mp.weixin.qq.com/s/qw22Flch-b8KoJYT99JvDw\">封装 axios 取消重复请求 (qq.com)</a></div>","stroke":{"width":2},"id":"99d54468-6064-492d-9caf-d073c77206e8","x":162.27065648959478,"y":159.35323110624316,"zIndex":1},{"type":"image","image":{"src":"https://cdn.nlark.com/yuque/0/2021/png/154143/1614826162030-3daa7aa8-cee2-4ef1-8e6f-62e8f00a5f2f.png","naturalWidth":1864,"naturalHeight":914,"uploadInfo":{"hash":"9c1349f97de16d241b2460d2de062f9b975461e8c168b6c0e972610bbf905269","fileName":"image.png","fileType":"image/png","fileSize":306776,"localTempSrc":"blob:https://www.yuque.com/c46f8e2d-af2f-474b-973b-22576294c85d","state":2}},"width":1158.0184064868504,"height":567.8266220649042,"x":140.9907967565747,"y":241.6733779350958,"constraints":{"proportion":true},"id":"3acb8bd6-0b00-4346-bd1e-41380cc5d5cd","zIndex":2,"rotate":0}],"fill":{"color":"#ffffff"},"id":"185f5613-4490-49ae-bef1-9dfc4a5fdbba","thumb":"https://cdn.nlark.com/yuque/0/2021/jpg/154143/1614826262908-e450fa45-9eb1-4b17-a4e5-d6929b239262.jpg"}],"settings":{"selected":["f127dffb-afe6-4ec1-b9f6-a2072452ee00"],"viewport":null},"text":"基于dio封装基础Request请求· dio简介\n· 封装思路\n· Flutter package开发dio简介\ndio是一个强大的Dart Http请求库· Restful API· FormData· 拦截器· 请求取消· Cookie管理· 文件上传/下载· 超时· 自定义适配器dio使用一个极简的示例为什么要进行封装\n· 添加基础配置信息，比如超时时间的设置· 添加关于网络的检查，网络连接有问题，就不再请求api接口了· 添加一些业务流程的处理，比如token的获取，统一的错误处理封装思路-拦截器\n每个 Dio 实例都可以添加任意多个拦截器，他们组成一个队列，拦截器队列的执行顺序是FIFO。通过拦截器你可以在请求之前或响应之后(但还没有被 then 或 catchError处理)做一些统一的预处理操作。封装思路-拦截器封装思路-拦截器Package 介绍\n通过使用 packages （的模式）可以创建易于共享的模块化代码。一个最基本的 package 由以下内容构成：· pubspec.yaml 文件  · 用于定义 package 名称、版本号、作者等其他信息的元数据文件。· lib 目录  · 包含共享代码的 lib 目录，其中至少包含一个 <package-name>.dart 文件。Package 类别\nPackage 包含以下两种类别：· 纯 Dart 库 (Dart packages)  · 用 Dart 编写的传统 package，比如 path。  · 其中一些可能包含 Flutter 的特定功能，因此依赖于 Flutter 框架，    其使用范围仅限于 Flutter，比如 fluro。  · enum_to_string(枚举，字符串互相转换)，我们自己写的一些widget· 原生插件 (Plugin packages)  · 使用 Dart 编写的，按需使用 Java 或 Kotlin、ObjC 或 Swift 分别在     Android 和/或 iOS 平台实现的 package。  · jverify（极光认证服务）开发纯 Dart 库的 packages\n第一步：创建 packageflutter create --template=package hello开发纯 Dart 库的 packages\n· LICENSE 文件: 大概率会是空的一个许可证文件。· test/hello_test.dart 文件: Package 的 单元测试 文件。· hello.iml 文件: 由 IntelliJ 生成的配置文件。· .gitignore 文件: 告诉 Git 系统应该隐藏哪些文件或文件夹的一个隐藏文件。· .metadata 文件: IDE 用来记录某个 Flutter 项目属性的的隐藏文件。· pubspec.yaml 文件: pub 工具需要使用的，包含 package 依赖的 yaml 格式的文件。· README.md 文件: 起步文档，用于描述 package。· lib/hello.dart 文件: package 的 Dart 实现代码。· .idea/modules.xml、.idea/modules.xml、.idea/workspace.xml 文件:    IntelliJ 的各自配置文件（包含在 .idea 隐藏文件夹下）。· CHANGELOG.md 文件: 又一个大概率为空的文档，用于记录 package 的版本变更。开发纯 Dart 库的 packages\n第二步：实现 package对于纯 Dart 库的 package，只要在 lib/<package name>.dart 文件中添加功能实现，或在 lib 目录中的多个文件中添加功能实现。如果要对 package 进行测试，在 test 目录下添加 单元测试。参考文档\ndio/README-ZH.md at master · flutterchina/dio (github.com)Flutter Packages 的开发和提交 - Flutter 中文文档 - Flutter 中文资源抛砖引玉\n封装 axios 取消重复请求 (qq.com)"}